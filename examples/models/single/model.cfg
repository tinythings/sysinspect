name: "Cfg Mgmt Example: call a single native module"
version: "0.1"
description: |
  Single module call

maintainer: Bo Maryniuk <still@javascriptsucks.com>
checkbook:
relations:
entities:
  call

actions:
  ping:
    descr: Information module
    module: sys.run
    bind:
      - call

    state:
      $:
        opts:
        args:
          cmd: "ls -lah"
        conditions:
          uid: 65432
          gid: 65432
          working-dir: "/tmp"
          working-disk: 1Mb

constraints:

events:
  $/$/$/$:
    handlers:
      - console-logger
      - outcome-logger

    console-logger:
      concise: false
      prefix: Single Call

    outcome-logger:
      prefix: Single Call
